// Импортируем данные о шахматистах
const players = [
  {
    id: 0,
    name: 'Магнус Карлсен',
    title: 'Гроссмейстер',
    rating: 2837,
    country: 'Норвегия',
    bestOpening: 'Испанская партия',
    fideId: '1503014',
    rsfId: null,
    photoUrl: '/images/players/carlsen.jpg',
    bio: 'Магнус Карлсен родился 30 ноября 1990 года в Тёнсберге, Норвегия. Научился играть в шахматы в 5 лет, а в 13 лет стал гроссмейстером. В 2013 году завоевал титул чемпиона мира, победив Вишванатана Ананда, и удерживал этот титул до 2023 года. Карлсен известен своим универсальным стилем игры, феноменальной памятью и способностью извлекать преимущество из технически равных позиций. Он установил высший исторический рейтинг Эло 2882 и считается одним из величайших шахматистов всех времён.',
    achievements: 'Стал гроссмейстером 26 апреля 2004 года в возрасте 13 лет, 4 месяцев и 27 дней (2-й в мире на тот момент).Самый молодой шахматист (19 лет и 1 месяц), возглавивший официальный рейтинг ФИДЕ (в неофициальном рейтинге Эло LiveRating впервые появился на 1-м месте 5 сентября 2008 года в 17-летнем возрасте[7][8]. В январе 2013 года набрал самый высокий рейтинг за всю историю — 2861, побил рекорд, удерживавшийся Гарри Каспаровым в течение 13-ти лет (2851). В мае 2014 года достиг абсолютного пика рейтинга — 2882, после незначительного снижения повторил этот рекорд в августе 2019 года. Чемпион Норвегии (2006). Многократный победитель и призёр крупных международных турниров. Один из претендентов на мировое первенство 2007 и 2011 годов, победитель турнира претендентов 2013. Обладатель 5 Шахматных Оскаров (2009, 2010, 2011 2012 и 2013). Третий шахматист после Анатолия Карпова и Каспарова, завоевавший этот трофей 4 или более раз подряд.В 2013 году журнал Time включил Карлсена в список «100 самых влиятельных людей в мире» в категории «Титаны». Комментарий к номинации написал Каспаров',
    tournaments: 'Чемпионаты мира и матчи: Чемпион мира (2013, 2014, 2016, 2018, 2021, 2023); Чемпион мира по рапиду (2014, 2015, 2019, 2022, 2023); Чемпион мира по блицу (2009, 2014, 2017, 2018, 2022, 2023, 2024); Tata Steel/Wijk aan Zee (2008, 2010, 2013, 2015, 2016, 2018, 2019, 2022, 2023); Sinquefield Cup (2013, 2014, 2018, 2019, 2022); Norway Chess (2015, 2016, 2019, 2022); Grenke Chess Classic (2015, 2017, 2018, 2019); London Chess Classic (2009, 2010, 2012, 2015, 2017, 2018); Shamkir Chess (2014, 2015, 2016, 2018, 2019); Bilbao Masters (2011, 2012, 2016, 2017); Champions Chess Tour (2020, 2021, 2022 – серия побед); Chess.com Speed Chess Championship (2020, 2021, 2022, 2023); Lindores Abbey Rapid (2020, 2021); Airthings Masters (2022)',
    style: 'Магнус Карлсен — универсальный игрок, мастерски сочетающий глубокую позиционную игру с точным расчетом и невероятной выносливостью. Его стиль основан на постоянном давлении: он умеет выжимать максимум даже из минимальных преимуществ, доводя соперников до изнеможения в долгих эндшпилях. Гибкий и адаптивный, Карлсен одинаково опасен в классике, рапиде и блице, где его скорость и интуиция не имеют равных. Его игра — это смесь компьютерной точности, психологического прессинга и неудержимой воли к победе..'
  },
  {
    id: 1,
    name: 'Ян Непомнящий',
    title: 'Гроссмейстер',
    rating: 2757,
    country: 'Россия',
    bestOpening: 'Русская партия',
    fideId: '4168119',
    rsfId: '377',
    photoUrl: '/images/players/ian.jpg',
    bio: 'Ян Александрович Непомнящий (известный в шахматном сообществе под прозвищем «Непó») — российский шахматист, гроссмейстер (с 2007 года), киберспортсмен и стример. Родился в Брянске 14 июля 1990 года и вырос в семье педагогов, в детстве увлёкся литературой и шахматами. В 2006 году на чемпионате России в Томске Непомнящий показал сильный результат, разделив 2-е место в Высшей лиге, что дало ему право участвовать в суперфинале. Однако в суперфинале ему удалось занять лишь 8-10 места. После окончания школы в 2007 году молодой шахматист переехал в Москву, где продолжил спортивную карьеру. На мемориале Владимира Дворковича он добился значительного успеха, став победителем в командном зачете и получив денежный приз в 100 000 рублей. Именно 2007 год стал переломным в карьере Непомнящего: Победа на престижном турнире Corus Chess, участие в чемпионате Европы (70-е место), успешное выступление на мемориале Сомова (разделил 1-3 места). Эти достижения позволили 17-летнему шахматисту выполнить все необходимые нормы и получить звание гроссмейстера, став одним из самых молодых обладателей этого титула в истории российских шахмат.',
    achievements: 'В 2010 году переехал во Францию, выступал под флагом этой страны до 2023 года. Победитель Кубка мира ФИДЕ (2015, 2023), чемпионата Европы (2010), чемпионата Франции (2017, 2018). Участник турнира претендентов (2016, 2022), финалист матча за звание чемпиона мира (2023), где уступил Дин Лижэню. Обладатель Кубка Синкфилда (2021), победитель Superbet Chess Classic (2021, 2023). В 2023 году вернулся в российскую шахматную федерацию.', 
    tournaments: 'Кубок мира ФИДЕ (2015, 2023), Чемпионат Европы (2010), Чемпионат Франции (2017, 2018), Superbet Chess Classic (2021, 2023), Кубок Синкфилда (2021), Пойковский Кубок (2013), Aeroflot Open (2008), Мемориал Таля (2016), Danzhou Super GM (2017), Meltwater Champions Chess Tour – Goldmoney Asian Open (2021), Chess.com Speed Chess Championship (2020 – полуфинал), Олимпиада (2010 – в составе России, 2018 – в составе Франции), Чемпионат Европы среди команд (2017 – в составе Франции)',
    style: 'Ян Непомнящий — агрессивный и креативный игрок, известный нестандартными дебютными идеями и тактической изобретательностью. Его стиль сочетает глубокую подготовку с импровизацией: он мастер осложнений, любит динамичную игру, но при этом сохраняет хладнокровие в критических позициях. Непо особенно опасен в неожиданных, психологически напряжённых ситуациях, где переигрывает топ-соперников за счёт оригинальных решений.',
  },
  {
    id: 2,
    name: 'Алиреза Фирузджа',
    title: 'Гроссмейстер',
    rating: 2757,
    country: 'Франция',
    bestOpening: 'Защита Грюнфельда',
    fideId: '12573981',
    rsfId: null,
    photoUrl: '/images/players/alireza.jpg',
    bio: 'Алиреза Фирузджа родился 18 июня 2003 года в Иране, сейчас выступает за Францию. Начал играть в шахматы в 8 лет, а в 12 лет стал чемпионом Ирана. В 2019 году в возрасте 16 лет преодолел рейтинговую отметку 2700, став вторым самым молодым шахматистом в истории, достигшим этого рубежа. Фирузджа известен своей невероятной скоростью расчета вариантов и творческим подходом к игре. Многие эксперты считают его наиболее вероятным претендентом на шахматную корону в будущем.',
    tournaments: 'Чемпионат Ирана (2016, 2018), Asian Continental Championship (2018), Sharjah Masters (2019), FIDE Grand Swiss (2021), Norway Chess (2022) - 2-е место, Grand Prix FIDE (2022) - серия турниров, World Rapid Championship (2019) - 3-е место, Tehran Open (2016) - победитель в рапиде, Чемпион мира до 20 лет (2016), Чемпион Азии до 18 лет (2014).',
    style: 'Алиреза Фируджа — атакующий шахматист с ярким комбинационным стилем, известный нестандартными дебютными идеями и смелыми жертвами. Его игра сочетает компьютерную подготовку с творческой импровизацией, что позволяет ему создавать проблемы даже топ-гроссмейстерам. Особенно опасен в динамичных позициях, где демонстрирует как тактическую остроту, так и умение вести долгосрочные атаки.'
  },
  {
    id: 3,
    name: 'Дин Лижэнь',
    title: 'Гроссмейстер',
    rating: 2734,
    country: 'Китай',
    bestOpening: 'Каталонское начало',
    fideId: '8603677',
    rsfId: null,
    photoUrl: '/images/players/ding.jpg',
    bio: 'Дин Лижэнь родился 24 октября 1992 года в провинции Чжэцзян, Китай. Начал играть в шахматы в возрасте 4 лет. В 2009 году получил звание гроссмейстера. В 2019 году достиг пика своей карьеры, поднявшись на второе место в мировом рейтинге с показателем 2816. Дин известен своим спокойным характером и глубоким позиционным пониманием. Его техника эндшпиля считается одной из лучших в мире.',
    achievements: 'На турнире претендентов 2022 занял 2-е место. Поскольку Магнус Карлсен отказался защищать титул, Дин Лижэнь сыграл с Яном Непомнящим, занявшим 1-е место, и победил его, став новым чемпионом мира. C августа 2017 года по ноябрь 2018 года Дин не проиграл ни одной партии в классику, установив мировой рекорд. Он одержал 29 побед и 71 раз сыграл вничью. Первый китайский чемпион мира в классических шахматах. Один из самых быстрых скачков рейтинга Эло (от 2600 до 2800+ за 3 года)',
    tournaments: 'Классические турниры: Кубок мира ФИДЕ 2023, Sinquefield Cup 2023, FIDE Grand Prix 2023 серия, Чемпионат Китая 2019, 2022, Shenzhen Masters 2023, Asian Continental Championship 2017; Быстрые и блиц турниры: Weifang International Chess Tournament 2023, Hainan Danzhou Super Grandmaster 2018; Командные достижения: Победитель Шахматной Олимпиады в составе сборной Китая 2018, Чемпион Азиатских командных игр 2014, 2016, 2018.',
    style: 'Позиционный стиль с глубоким стратегическим пониманием и точной техникой эндшпиля. Дин Лижэнь играет спокойно и уверенно, без лишнего риска. Он отлично разбирается в позициях любой сложности — может и атаковать, и крепко защищаться. Особенно силён в эндшпиле, где его точность сравнима с компьютерной. Его главная особенность — умение методично увеличивать малейшие преимущества. Он не спешит, не паникует в цейтноте и умеет выжидать, пока соперник допустит ошибку. При этом может неожиданно переходить в контратаку, если чувствует слабость в построениях оппонента. В отличие от многих топ-гроссмейстеров, Дин редко идёт на острые авантюры — его победы чаще всего результат терпеливой, выверенной игры. Это делает его крайне неудобным соперником: переиграть его в «спокойной» позиции почти невозможно, а навязать свою игру — очень сложно.'
  },
  {
    id: 4,
    name: 'Фабиано Каруана',
    title: 'Гроссмейстер',
    rating: 2776,
    country: 'США',
    bestOpening: 'Испанская партия',
    fideId: '2020009',
    rsfId: null,
    photoUrl: '/images/players/caruana.jpg',
    bio: 'Фабиано Каруана родился 30 июля 1992 года в Майами, США. Начал играть в шахматы в возрасте 5 лет. В 2007 году в возрасте 14 лет стал гроссмейстером. В 2014 году на турнире в Сент-Луисе показал феноменальный результат, набрав 8,5 очков из 10 возможных против сильнейших шахматистов мира, включая Магнуса Карлсена, с рейтингом перформанса 3103. В 2018 году выиграл турнир претендентов и сыграл матч на первенство мира против Магнуса Карлсена, который завершился со счетом 6:6 в классических партиях (поражение на тай-брейке).',
    achievements: 'Претендент на звание чемпиона мира 2018, победитель турнира претендентов 2018, многократный чемпион США, победитель Sinquefield Cup 2014 с рекордным результатом. В 2014 году выиграл Кубок Синкфилда, показав самый высокий перфоманс на элитном уровне — около 3100. В 2015 году снова стал играть за США, а спустя год выиграл чемпионат США. Выиграв Гран-при ФИДЕ 2014/2015, Каруана квалифицировался на турнир претендентов 2016, где занял 2-е место после Сергея Карякина. В 2018 году победил на турнире претендентов, став первым американцем со времён Роберта Фишера (1972), кому это удалось. В преддверии матча 2018 года Каруана выиграл Баден-Баден 2018 и разделил 1-е место в Кубке Синкфилда, но проиграл матч Магнусу Карлсену на стадии тай-брейка, завершив все 12 классических партий вничью. Впоследствии Каруана прошёл квалификацию и принял участие во всех следующих турнирах претендентов (2020—2021, 2022, 2024) В октябре 2014 года установил третий рейтинг ФИДЕ в истории (2844), занимая 2-е место в мире после Карлсена, в феврале 2020 года почти смог повторить рекорд — 2842. В ноябре 2018 года достиг рейтинга 2832 и отставал от рейтинга Карлсена всего на 3 пункта.',
    tournaments: 'Tata Steel (2014, 2016), Sinquefield Cup (2014, 2018, 2022), U.S. Championship (2002, 2007, 2008, 2010, 2012, 2016, 2020, 2022), Grenke Chess Classic (2015, 2019), Norway Chess (2018), Grand Chess Tour (2017, 2019), FIDE Grand Prix (2014–2015), Shamkir Chess (2019), Saint Louis Rapid & Blitz (2021, 2022).',
    style: 'Каруана Фабиано отличается универсальным, гибким стилем, сочетающим глубокую позиционную игру с точным расчетом вариантов. Он мастерски балансирует между стратегической подготовкой и тактической остротой, умело адаптируясь к стилю соперника. Его игра характеризуется высокой точностью, выдержкой и умением выжимать максимум даже из немного лучше позиций..'
  },
  {
    id: 5,
    name: 'Хикару Накамура',
    title: 'Гроссмейстер',
    rating: 2804,
    country: 'США',
    bestOpening: 'Сицилианская защита',
    fideId: '2016192',
    rsfId: null,
    photoUrl: '/images/players/hikaru.jpg',
    bio: 'Хикару Накамура родился 9 декабря 1987 года в Хираката, Япония, но вырос в США. Начал играть в шахматы в возрасте 7 лет, а в 15 лет и 79 дней стал самым молодым американским гроссмейстером на тот момент. Известен как один из сильнейших блиц-игроков в мире. В последние годы приобрел огромную популярность как стример и контент-создатель, значительно способствуя популяризации шахмат в интернете.',
    achievements: 'Пятикратный чемпион США, победитель Кубка мира по рапиду 2018, финалист Кубка мира 2015, многократный победитель блиц-турниров. В мае 2014 года, когда ФИДЕ начала публиковать официальные рейтинги по быстрым шахматам и блицу, Накамура занимал 1-е место в мире в обоих списках. Долгое время был на 1-м месте, сейчас входит в пятёрку сильнейших. В начале 2020 года Накамура занимал 1-е место в мире по блицу. Из-за пандемии COVID-19 живые турниры почти не проводились. Резко возросла популярность онлайн-шахмат и Накамура сыграл в этом важную роль. В феврале Накамура занял 2-е место на Airthings Masters. Самый молодой победитель международного мастера в игре с рейтингом USCF (10 лет, 0 месяцев). Самый молодой победитель гроссмейстера в партии на рейтинг USCF (10 лет, 117 дней). Самый молодой международный мастер (13 лет, 2 месяца). Самый молодой гроссмейстер США (15 лет, 2 месяца и 19 дней).',
    tournaments: 'Турниры: U.S. Championship (2005, 2009, 2012, 2015, 2019, 2023), Tata Steel (2011, 2019), Gibraltar Chess (2015, 2016, 2018), Shamkir Chess (2015, 2018), GCT Sinquefield Cup (2021), Norway Chess Blitz (2020, 2023), Saint Louis Rapid & Blitz (2017, 2018, 2022, 2023), FIDE Grand Prix (2015), Chess.com Speed Championship (2021, 2023).',
    style: 'Хикару Накамура – блиц-король современности, сочетающий невероятную скорость расчета с креативным, атакующим стилем, особенно опасный в динамичных позициях. Его игра полна неожиданных жертв и психологического давления, а в классике он балансирует между агрессией и прагматизмом, часто переигрывая соперников в эндшпиле..'
  },
  {
    id: 6,
    name: 'Аниш Гири',
    title: 'Гроссмейстер',
    rating: 2738,
    country: 'Нидерланды',
    bestOpening: 'Испанская партия',
    fideId: '24116068',
    rsfId: null,
    photoUrl: '/images/players/anish.jpg',
    bio: 'Аниш Гири родился 28 июня 1994 года в Санкт-Петербурге, Россия, в семье непальского отца и русской матери. Вырос в Нидерландах и представляет эту страну на международной арене. Получил звание гроссмейстера в 2009 году в возрасте 14 лет. Известен своей глубокой теоретической подготовкой и энциклопедическими знаниями дебютов. Также известен своим остроумием и активностью в социальных сетях.',
    achievements: 'В составе сборной Нидерландов — участник шести Олимпиад (2010—2024), 1-й номер среди шахматистов своей страны. Победитель командного чемпионата России 2017 в составе команды «Сибирь-Сириус». Многократный чемпион Нидерландов (2009, 2011, 2012, 2015, 2016, 2017). Вице-чемпион мира по рапиду (2021)',
    tournaments: 'Tata Steel Masters (2021, 2023), Qatar Masters Open (2014), Biel Chess Festival (2021), WR Masters (2022), FIDE Grand Prix Belgrade (2022), Reykjavik Open (2010), Dutch Championship (2009, 2011, 2012, 2015, 2016, 2017), Reggio Emilia (2011/12), Sharjah Masters (2017), Gashimov Memorial (2019 – рапид). uropean Team Championship (2017, 2021 – золото), Chess Olympiad (2016 – бронза), PRO Chess League (2018 – чемпион в составе «Canada Chessbrahs»)',
    style: 'Аниш Гири — универсальный игрок с безупречной дебютной подготовкой и глубоким позиционным пониманием, предпочитающий сложные, но контролируемые позиции без лишнего риска. Его стиль балансирует между стратегической точностью и гибкостью, позволяя ему успешно нейтрализовывать агрессию топ-соперников и переигрывать их в эндшпиле.'
  },
  {
    id: 7,
    name: 'Сергей Карякин',
    title: 'Гроссмейстер',
    rating: 2750,
    country: 'Россия',
    bestOpening: 'Русская партия',
    fideId: '14109603',
    rsfId: '374',
    photoUrl: '/images/players/sergey.jpg',
    bio: 'Сергей Карякин родился 12 января 1990 года в Симферополе. В 2002 году в возрасте 12 лет и 7 месяцев стал самым молодым гроссмейстером в истории шахмат, рекорд, который держался до 2021 года. В 2016 году сыграл матч на первенство мира против Магнуса Карлсена, который проиграл на тай-брейке после ничьей в основных партиях. Известен своими выдающимися защитными способностями, за что получил прозвище "Министр обороны".',
    achievements: 'Претендент на звание чемпиона мира (2016), чемпион мира по рапиду (2012) и блицу (2016), двукратный победитель командного чемпионата мира в составе сборной России (2013, 2019). Обладатель Кубка мира 2015, финалист Кубка мира 2021. В 2004 году выиграл олимпиаду в составе сборной Украины, в 2010—2018 годах становился призёром, играя за сборную России. В 2009 году стал гражданином РФ, с 2010 года — членом сборной России. В 2014 году стал бронзовым призёром турнира претендентов. В 2016 году занял 1-е место на турнире претендентов, заработав путёвку на матч с Магнусом Карлсеном, который проиграл на тай-брейке. На турнире претендентов 2018 занял 3-е место. В 2021 году дошёл до финала Кубка мира и квалифицировался на следующий турнир претендентов, но из-за своей поддержки российского вторжения на Украину был дисквалифицирован на 6 месяцев, после чего отказался играть в международных турнирах под нейтральным флагом.',
    tournaments: 'Corus "B" (2009), Мемориал Таля (2012), Норвегия Chess (2013, 2014), World Cup (2015), Candidates Tournament (2016 – 2-е место), Мемориал Гашимова (2014, 2016), Гран-при ФИДЕ (2017), Poikovsky (2018), Gibraltar Masters (2017), Russian Championship (2012). World Blitz Championship (2012 – серебро), World Rapid Championship (2012 – бронза), Lindores Abbey Rapid (2020), Champions Chess Tour (2021 – этапы). Олимпиада (2010, 2012 – золото), European Team Championship (2011, 2013, 2017 – золото), World Team Championship (2013 – золото).',
    style: 'Сергей Карякин — универсальный игрок с безукоризненной техникой, сочетающий глубокое позиционное понимание с виртуозным расчетом вариантов. Его стиль отличается гибкостью: он одинаково силён в защите и контратаке, мастерски использует дебютные новинки и славится феноменальной выдержкой в эндшпиле.'
  },
  {
    id: 8,
    name: 'Вишванатан Ананд',
    title: 'Гроссмейстер',
    rating: 2743,
    country: 'Индия',
    bestOpening: 'Сицилианская защита',
    fideId: '5000017',
    rsfId: null,
    photoUrl: '/images/ананд.jpg',
    bio: 'Вишванатан Ананд родился 11 декабря 1969 года в Майлапуре, Индия. Научился играть в шахматы в возрасте 6 лет. В 1988 году стал первым гроссмейстером из Индии. Был чемпионом мира по шахматам с 2000 по 2002 год и с 2007 по 2013 год. Известен как "Тигр из Мадраса" за свою быстроту мышления и агрессивный стиль игры в молодости. Считается одним из величайших шахматистов всех времен и национальным героем Индии.',
    achievements: 'В 2000 году выиграл чемпионат мира по нокаут-системе и стал чемпионом мира по версии ФИДЕ. В финальном матче, который проводился в Тегеране, Ананд победил Алексея Широва со счётом 3½:½. В сентябре 2007 года в Мехико (через год после преодоления раскола в шахматном мире и проведения объединительного матча между чемпионом мира по версии ПША россиянином Владимиром Крамником и чемпионом мира по версии ФИДЕ болгарином Веселином Топаловым) проводится чемпионат мира в форме двухкругового супертурнира XXI категории. Ананд выигрывает этот турнир — чемпионат мира в Мексике с результатом в 9 очков из 14 (+4-0=10), опередив на одно очко Владимира Крамника, Бориса Гельфанда, а также Петера Леко, Левона Ароняна, Александра Морозевича, Александра Грищука и Петра Свидлера.Ананд сохранял титул чемпиона мира по шахматам, трижды защитив его в матчах 2008, 2010 и 2012 годов. Виши Ананд — пока единственный в истории шахматист, кто завоёвывал высший титул в соревнованиях с тремя разными форматами: в турнире по нокаут-системе (2000 год), в круговом турнире (2007 год) и в очных матчах с претендентами. Выиграв турнир в Линаресе в феврале-марте 2007 года, Ананд впервые в своей карьере вышел на первое место в мировом рейтинг-листе ФИДЕ (за апрель 2007 года) и оставался 1-м номером рейтинг-листа по июль 2008. Затем, вновь возглавлял рейтинг — лист ФИДЕ с 1.11.2010 по 1.01.2011 и с 1.03.2011 по 1.07.2011.Ананд является шестым в истории шахмат игроком, возглавившим мировой рейтинг-лист с момента его введения в 1970 году (другие пять — Бобби Фишер, Анатолий Карпов, Гарри Каспаров, Владимир Крамник и Веселин Топалов), и четвёртым игроком, достигшим рейтинга в 2800 (после Каспарова, Крамника и Топалова).',
    tournaments: 'Чемпион мира ФИДЕ (2000), Чемпион мира (2007, 2008, 2010, 2012), Tata Steel/Wijk aan Zee (1989, 1998, 2003, 2004, 2006), Linares (1998, 2007, 2008), Dortmund (1996, 2000, 2004), Melody Amber (1994, 1997, 2003, 2005, 2006), Grenke Chess Classic (2013, 2014), Bilbao Masters (2012), Moscow Tal Memorial (2011), Corsica Masters (2005, 2006). World Rapid Champion (2003, 2017), World Blitz Champion (2000, 2017), Norway Chess Blitz (2019), Leon Masters (2005, 2007, 2008, 2009, 2011). Чемпион Индии (1986, 1987, 1988, 1991, 2000), Олимпиада (2014 – серебро в составе Индии), Asian Team Championship (2003, 2005).',
    style: 'Универсальный стиль с акцентом на быстроту принятия решений и интуитивное понимание позиции. Отличается скоростью расчета и способностью быстро адаптироваться к различным типам позиций. Ананд одинаково силён в тактических осложнениях и позиционной игре, мастерски переключаясь между агрессией и техникой. Его игра в быстрых шахматах (особенно в рапиде и блице) стала эталоном благодаря интуитивным жертвам и скорости принятия решений.'
  }
];

// Инициализация страницы
document.addEventListener('DOMContentLoaded', () => {
  loadPlayerDetails();
  
  // Обрабатываем изменение хэша URL
  window.addEventListener('hashchange', loadPlayerDetails);
});

// Загрузка информации о шахматисте
function loadPlayerDetails() {
  try {
    console.log("Начало загрузки данных о шахматисте");
    console.log("Доступно игроков:", players.length);
    
  // Получаем ID шахматиста из URL
  const urlParams = new URLSearchParams(window.location.search);
    let playerId = urlParams.get('id');
    
    console.log("Полученный ID из URL:", playerId);
    
    // Преобразуем ID в число
    playerId = parseInt(playerId, 10);
    
    // Проверяем, что ID является числом
    if (isNaN(playerId)) {
      console.error("ID не является числом:", playerId);
      showError('Некорректный ID шахматиста');
      return;
    }
    
    console.log("ID после преобразования:", playerId);
    console.log("Диапазон доступных ID:", 0, "до", players.length - 1);
    
    // Проверяем, что ID находится в допустимом диапазоне
    if (playerId < 0 || playerId >= players.length) {
      console.error("ID вне допустимого диапазона:", playerId);
      showError(`Шахматист с ID ${playerId} не найден. Допустимый диапазон: 0-${players.length - 1}`);
      return;
    }
    
    // Получаем данные игрока
    const player = players[playerId];
    console.log("Найден игрок:", player ? player.name : "не найден");
    
    if (!player) {
      console.error("Игрок не найден по индексу:", playerId);
      showError(`Шахматист с ID ${playerId} не найден`);
      return;
    }
    
    // Заполняем информацию о шахматисте
    document.title = `${player.name} - Портал шахматных дебютов`;
    
    // Устанавливаем фото
    const playerPhoto = document.getElementById('playerPhoto');
    if (playerPhoto) {
      // Обрабатываем как абсолютные, так и относительные пути
      const photoPath = player.photoUrl.startsWith('/') ? 
                        player.photoUrl.substring(1) : // Убираем начальный слеш для относительного пути
                        player.photoUrl;
      playerPhoto.src = `../${photoPath}`;
      playerPhoto.alt = player.name;
      console.log("Установлено фото:", photoPath);
    } else {
      console.error("Элемент playerPhoto не найден");
    }
    
    // Проверяем наличие всех необходимых элементов перед заполнением
    const elements = {
      'playerName': document.getElementById('playerName'),
      'playerTitle': document.getElementById('playerTitle'),
      'playerRating': document.getElementById('playerRating'),
      'playerCountry': document.getElementById('playerCountry'),
      'playerBestOpening': document.getElementById('playerBestOpening'),
      'fideId': document.getElementById('fideId'),
      'rsfId': document.getElementById('rsfId'),
      'playerBio': document.getElementById('playerBio'),
      'playerAchievements': document.getElementById('playerAchievements'),
      'playerTournaments': document.getElementById('playerTournaments'),
      'playerStyle': document.getElementById('playerStyle')
    };
    
    // Проверяем наличие всех элементов
    const missingElements = Object.entries(elements)
      .filter(([name, element]) => !element)
      .map(([name]) => name);
    
    if (missingElements.length > 0) {
      console.error("Отсутствуют следующие элементы:", missingElements.join(', '));
    }
    
    // Заполняем основную информацию, только если элементы существуют
    if (elements.playerName) elements.playerName.textContent = player.name;
    if (elements.playerTitle) elements.playerTitle.textContent = player.title;
    if (elements.playerRating) elements.playerRating.textContent = player.rating;
    if (elements.playerCountry) elements.playerCountry.textContent = player.country;
    if (elements.playerBestOpening) elements.playerBestOpening.textContent = player.bestOpening;
    
    // Заполняем ID ФИДЕ и РШФ
    if (elements.fideId) {
      elements.fideId.innerHTML = player.fideId ? 
        `<span class="chess-id">${player.fideId}</span>` : 
        '<span class="not-available">Нет данных</span>';
    }
    
    if (elements.rsfId) {
      elements.rsfId.innerHTML = player.rsfId ? 
        `<span class="chess-id">${player.rsfId}</span>` : 
        '<span class="not-available">Нет данных</span>';
    }
    
    // Форматируем и заполняем биографию и другие тексты
    if (elements.playerBio) elements.playerBio.innerHTML = formatBiography(player.bio);
    if (elements.playerAchievements) elements.playerAchievements.innerHTML = formatText(player.achievements);
    if (elements.playerTournaments) elements.playerTournaments.innerHTML = formatText(player.tournaments);
    if (elements.playerStyle) elements.playerStyle.innerHTML = formatText(player.style);
    
    // Настраиваем навигацию между игроками
    setupPlayerNavigation(playerId);
    
    // Добавляем микроразметку Schema.org для SEO
    addSchemaMarkup(player);
    
    // Показываем контент
    const playerDetails = document.querySelector('.player-details');
    if (playerDetails) {
      playerDetails.style.opacity = '1';
      console.log("Данные успешно загружены и отображены");
    } else {
      console.error("Элемент .player-details не найден");
    }
    
  } catch (error) {
    console.error('Ошибка при загрузке данных о шахматисте:', error);
    showError('Произошла ошибка при загрузке данных о шахматисте: ' + error.message);
  }
}

// Функция для форматирования биографии
function formatBiography(text) {
  if (!text) return '';
  // Просто возвращаем весь текст как один параграф
  return `<p>${text}</p>`;
}

// Функция для форматирования остальных текстов
function formatText(text) {
  if (!text) return '';
  
  // Разделяем текст на параграфы по запятым или точкам с запятой
  const parts = text.split(/(?<=\.\s)|(?<=\,\s)|(?<=\;\s)/);
  
  // Группируем части в параграфы для лучшей структуры
  let formatted = '';
  let currentPart = '';
  
  parts.forEach((part, index) => {
    currentPart += part;
    
    // Создаем новый параграф после каждых 2-3 частей или в конце
    if ((index + 1) % 3 === 0 || index === parts.length - 1) {
      formatted += `<p>${currentPart.trim()}</p>`;
      currentPart = '';
    }
  });
  
  return formatted || `<p>${text}</p>`;
}

// Функция для настройки навигации между игроками
function setupPlayerNavigation(playerId) {
  console.log("Настройка навигации для игрока с ID:", playerId);
  
  const prevPlayerBtn = document.getElementById('prevPlayerBtn');
  const nextPlayerBtn = document.getElementById('nextPlayerBtn');
  
  if (!prevPlayerBtn || !nextPlayerBtn) {
    console.error("Кнопки навигации не найдены:", {
      prevPlayerBtn: !!prevPlayerBtn,
      nextPlayerBtn: !!nextPlayerBtn
    });
    return;
  }
  
  // Преобразуем ID в число для уверенности
  playerId = parseInt(playerId, 10);
  
  // Предыдущий игрок
  if (playerId > 0) {
    prevPlayerBtn.href = `?id=${playerId - 1}`;
    prevPlayerBtn.classList.remove('disabled');
    console.log("Кнопка предыдущего игрока активирована:", playerId - 1);
  } else {
    prevPlayerBtn.href = 'javascript:void(0)';
    prevPlayerBtn.classList.add('disabled');
    console.log("Кнопка предыдущего игрока деактивирована");
  }
  
  // Следующий игрок
  if (playerId < players.length - 1) {
    nextPlayerBtn.href = `?id=${playerId + 1}`;
    nextPlayerBtn.classList.remove('disabled');
    console.log("Кнопка следующего игрока активирована:", playerId + 1);
  } else {
    nextPlayerBtn.href = 'javascript:void(0)';
    nextPlayerBtn.classList.add('disabled');
    console.log("Кнопка следующего игрока деактивирована");
  }
  
  // Добавляем обработчики событий для кнопок
  prevPlayerBtn.addEventListener('click', function(event) {
    if (this.classList.contains('disabled')) {
      event.preventDefault();
      console.log("Клик по деактивированной кнопке предыдущего игрока");
    } else {
      console.log("Переход к предыдущему игроку:", playerId - 1);
    }
  });
  
  nextPlayerBtn.addEventListener('click', function(event) {
    if (this.classList.contains('disabled')) {
      event.preventDefault();
      console.log("Клик по деактивированной кнопке следующего игрока");
    } else {
      console.log("Переход к следующему игроку:", playerId + 1);
    }
  });
}

// Функция для добавления микроразметки Schema.org для SEO
function addSchemaMarkup(player) {
  const schemaMarkup = `
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "${player.name}",
        "title": "${player.title}",
        "description": "${player.bio}",
        "image": "${player.photoUrl}",
        "url": "${window.location.href}"
      }
    </script>
  `;
  
  document.querySelector('head').insertAdjacentHTML('beforeend', schemaMarkup);
}

// Функция для отображения ошибок
function showError(message) {
  console.error("Отображение ошибки:", message);
  
  const errorElement = document.getElementById('error');
  if (!errorElement) {
    console.error("Элемент для отображения ошибок не найден");
    alert(`Ошибка: ${message}`);
    return;
  }
  
  // Создаем более заметное сообщение об ошибке
  errorElement.innerHTML = `
    <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 10px;">
      <i class="fas fa-exclamation-triangle" style="color: #e74c3c; font-size: 24px; margin-right: 10px;"></i>
      <strong>Ошибка загрузки данных</strong>
    </div>
    <p>${message}</p>
    <p>Пожалуйста, попробуйте обновить страницу или вернитесь к <a href="../players.html" style="color: #3498db; text-decoration: underline;">списку игроков</a>.</p>
  `;
  
  // Добавляем стили для лучшей видимости на мобильных устройствах
  errorElement.style.display = 'block';
  errorElement.style.color = '#e74c3c';
  errorElement.style.backgroundColor = '#fdecea';
  errorElement.style.padding = '15px';
  errorElement.style.borderRadius = '8px';
  errorElement.style.margin = '20px 0';
  errorElement.style.textAlign = 'center';
  errorElement.style.boxShadow = '0 2px 5px rgba(0,0,0,0.1)';
  errorElement.style.fontSize = '16px';
  
  // Скрываем контейнер с деталями игрока
  const playerDetails = document.querySelector('.player-details');
  if (playerDetails) {
    playerDetails.style.display = 'none';
    console.log("Контейнер с деталями игрока скрыт");
  }
  
  // Скрываем навигацию между игроками
  const playerNav = document.querySelector('.player-nav');
  if (playerNav) {
    playerNav.style.display = 'none';
    console.log("Навигация между игроками скрыта");
  }
}